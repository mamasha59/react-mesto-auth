{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/PopupDeletePlace.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/ProfilePage.js","components/ProtectedRoute.js","utils/auth.js","components/Login.js","components/Register.js","images/Err.svg","images/Ok.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","api","selector","this","_url","url","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","method","then","_checkOk","all","getUserInfo","getCards","data","body","JSON","stringify","name","link","about","avatar","cardId","isLiked","authorization","Header","props","className","src","vector","alt","children","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","aria-label","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","backgroundImage","map","Footer","Date","getFullYear","PopupWithForm","isOpen","title","onClose","onSubmit","button","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","value","onChange","target","id","minLength","maxLength","required","AddPlacePopup","setLink","PopupDeletePlace","onDeleteCard","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","ImagePopup","Home","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","selectedCardDelete","setSelectedCardDelete","isConfirmDeletePopupOpen","setConfirmDeletePopupOpen","closeAllPopups","promises","catch","err","console","log","Provider","email","onLogout","setUserInfo","postCards","newCard","deleteCard","newCards","filter","c","isLoading","updateAvatar","changeLikeCardStatus","state","ProtectedRoute","Component","component","loggedIn","to","BASE_URL","handleOriginalResponse","response","Login","emailInput","passwordInput","onEnter","withRouter","password","onRegister","InfoTooltip","isOk","App","setEmail","setLoggedIn","tooltip","setTooltip","isInfoTooltipOpen","setInfoTooltipOpen","history","useHistory","tokenCheck","localStorage","getItem","jwt","token","push","path","removeItem","auth","setItem","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.844a65a0.chunk.js","sourcesContent":["import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","class Api{\r\n\tconstructor(selector) {\r\n\t\tthis._url = selector.url;\r\n\t\tthis._headers = selector.headers;\r\n\t}\r\n\t_checkOk(res) {\r\n\t\tif(res.ok) {\r\n\t\t\treturn res.json();\r\n\t\t} \r\n\t\t\treturn Promise.reject(new Error(`${res.status}`));\r\n\t\t}\r\n\t\r\n\tgetCards() { //----получение карточек с сервера\r\n\t\treturn fetch(this._url + 'cards', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tgetInitialData() {\r\n        return Promise.all([this.getUserInfo(), this.getCards()]);\r\n    }\r\n\tpostCards(data) { //---- добавление карточек в dom\r\n\t\treturn fetch(this._url + 'cards', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: data.name,\r\n\t\t\t\tlink: data.link,\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tgetUserInfo() { //----получение информации о пользователе\r\n\t\treturn fetch(this._url + 'users/me', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tsetUserInfo(data) {//---- установка инфы о пользователе\r\n\t\treturn fetch(this._url + 'users/me', {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tupdateAvatar(avatar) {//----- размещение аватара пользователя updateAvatar\r\n\t\treturn fetch(this._url + 'users/me/avatar', {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tavatar: avatar.avatar\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tdeleteCard(cardId) {//---- удаление карточки  пользователя\r\n\t\treturn fetch(this._url + `cards/${cardId}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\r\n\tchangeLikeCardStatus(cardId, isLiked) {//----- удаление лайка с карточки changeLikeCardStatus\r\n\t\treturn fetch(this._url + `cards/likes/${cardId}`, {\r\n\t\t\tmethod: isLiked ? 'PUT' : 'DELETE',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n}\r\nconst api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-24/',\r\n    headers: {\r\n        authorization: 'a7c83460-3094-477b-9fb5-f7c43e4b79fa',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\nexport default api;\r\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport vector from '../images/logo.svg'\r\nfunction Header(props) {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={vector} alt={'Место'} className=\"header__logo\"></img>\r\n\r\n            <nav className=\"header__nav\">\r\n                {props.children}\r\n            </nav>\r\n           \r\n        </header >\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    const cardDeleteButtonClassName = (//---отображение кнопки удалить если твоя карточка\r\n        `card__deleate ${!isOwn ? '' : 'card__delete_style_active'}`\r\n    );\r\n\r\n    const cardLikeButtonClassName = ( //---- togle лайка\r\n        `card__like-button ${isLiked ? 'card__like-button_active' : ''}`\r\n    );\r\n\r\n    function handleCardClick() {\r\n        onCardClick(card)\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <img src={card.link}  alt={card.name} className=\"card__img\" onClick={handleCardClick}/>\r\n            <button aria-label=\"удалить\" type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}/>\r\n            <div className=\"card__interactive\">\r\n                <h2 className=\"card__title\">{card.name}</h2>\r\n                <div className=\"card__box-like\">\r\n                    <button aria-label=\"лайк\" type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\r\n                    <div className=\"card__like-counter\">{card.likes.length}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from './Card'\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick,cards,onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__block\">\r\n          <button style={{ backgroundImage: `url(${currentUser.avatar})` }} className=\"profile__edit-button\" onClick={onEditAvatar}>\r\n          </button>\r\n          <div className=\"profile__text\">\r\n            <div className=\"profile__title-button\">\r\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n              <button aria-label=\"редактировать\" type=\"button\" className=\"profile__link\" onClick={onEditProfile} />\r\n            </div>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button aria-label=\"добавить\" type=\"button\" className=\"profile__add\" onClick={onAddPlace} />\r\n      </section>\r\n      <section className=\"elements\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n              key={card._id}\r\n            />\r\n          )\r\n          )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n        <p className=\"footer__copyrigth\">© {new Date().getFullYear()} Mesto Russia</p>\r\n      </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) { //---общий макет попапа\r\n    return (\r\n    <>\r\n        <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\r\n        <div className=\"popup__container\">\r\n          <h3 className=\"popup__title\">{props.title}</h3>\r\n          <button aria-label=\"закрыть\" type=\"button\" className=\"popup__close\" onClick={props.onClose}>\r\n          </button>\r\n          <form name={props.name}\r\n          \r\n          onSubmit={props.onSubmit}\r\n          className=\"popup__forms\"\r\n         >\r\n        \r\n           {props.children}\r\n           \r\n            <button aria-label=\"сохранить\" type=\"submit\" className=\"popup__button\">{props.button}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser,button }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser,isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeAbout(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      button={\"Сохранить\"}>\r\n        \r\n      <input\r\n        className=\"popup__input popup__input_user-name\"\r\n        placeholder=\"Имя\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={name || ''}\r\n        onChange={handleChangeName}\r\n        id=\"popup__name\"\r\n        minLength=\"2\" maxLength=\"40\" required />\r\n      <span className=\"popup__error popup__name-error\" />\r\n      <input\r\n        className=\"popup__input popup__input_user-profession\"\r\n        placeholder=\"Род занятий\"\r\n        type=\"text\"\r\n        name=\"about\"\r\n        value={description || ''}\r\n        onChange={handleChangeAbout}\r\n        id=\"popup__about\"\r\n        minLength=\"2\" maxLength=\"200\" required />\r\n      <span className=\"popup__error popup__about-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose,onAddPlace }) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n  \r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n},[isOpen]);\r\n\r\nfunction handleAddCardName(e) {\r\n  setName(e.target.value);\r\n}\r\n\r\nfunction handleAddCardLink(e) {\r\n  setLink(e.target.value);\r\n}\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link\r\n  })\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"new-place\"\r\n      title=\"Новое место\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      button={\"Создать\"}>\r\n      <input\r\n        className=\"popup__input popup__input_card-name\"\r\n        placeholder=\"Название\"\r\n        type=\"text\"\r\n        name=\"place\"\r\n        value={name}\r\n        onChange={handleAddCardName}\r\n        id=\"popup__title\"\r\n        minLength=\"2\" maxLength=\"40\" required />\r\n        <span className=\"popup__error popup__title-error\"/>\r\n      <input\r\n        className=\"popup__input popup__input_card-link\"\r\n        placeholder=\"Ссылка\"\r\n        type=\"URL\"\r\n        name=\"source\"\r\n        value={link}\r\n        onChange={handleAddCardLink}\r\n        id=\"popup__link\"\r\n        minLength=\"2\" maxLength=\"200\" required />\r\n        <span className=\"popup__error popup__link-error\"/>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction PopupDeletePlace({ isOpen, onClose, onDeleteCard }) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard();\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"popup-delete\"\r\n      title=\"Вы уверены?\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      button={\"Удалить\"}\r\n    />\r\n  );\r\n}\r\n\r\nexport default PopupDeletePlace;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      button={\"Сохранить\"}>\r\n      <input\r\n        className=\"popup__input popup__input_avatar-link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        type=\"url\"\r\n        name=\"avatar\"\r\n        ref={avatarRef}\r\n        id=\"popup__avatar\" required\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n    return (\r\n        <figure className={`popup popup_image ${card.isOpen ? 'popup_opened' : ''} `}>\r\n        <div className=\"card-open\">\r\n          <button aria-label=\"закрыть просмотр\" type=\"button\" className=\"popup__close\" onClick={onClose}/>\r\n          <img src={card.link} alt={card.name} className=\"card-open__screen\" />\r\n          <figcaption className=\"card-open__name\" >{card.name}</figcaption>\r\n        </div>\r\n      </figure>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport api from '../utils/api.js'\r\nimport React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport PopupDeletePlace from './PopupDeletePlace';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport ImagePopup from './ImagePopup';\r\n\r\nfunction Home(props) {\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);//---стейт попапа редак. профиль\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);//---стейт попапа добавить место\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);//---стейт попапа обновить аватар\r\n    const [selectedCard, setSelectedCard] = React.useState({ link: \"\", name: \"\", isOpen: false });//--стейт попапа просмотра из.\r\n    const [currentUser, setCurrentUser] = React.useState({});//---стейт попапа пользователя\r\n    const [cards, setCards] = React.useState([]);//---стейт карточек пользователя\r\n    const [selectedCardDelete, setSelectedCardDelete] = React.useState({});\r\n    const [isConfirmDeletePopupOpen, setConfirmDeletePopupOpen] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        const promises = [api.getUserInfo(), api.getCards()];\r\n        Promise.all(promises)\r\n            .then(([data, cards]) => {\r\n                setCurrentUser(data)\r\n                setCards(cards);\r\n            })\r\n            .catch((err) => console.log(`Что-то не то...: ${err}`))\r\n    }, [])\r\n\r\n    function closeAllPopups() { //-----ЗАКРЫТИЕ ПОПАПОВ\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setConfirmDeletePopupOpen(false);\r\n        //setInfoTooltipOpen(false)\r\n        setSelectedCard({ link: \"\", name: \"\", isOpen: false });\r\n    }\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n    function handleCardClick(card) {\r\n        setSelectedCard({ link: card.link, name: card.name, isOpen: true });\r\n    }\r\n\r\n    //-------\r\n    function handleConfirmDeleteClick(card) {//------попап УДАЛЕНИЕ КАРТОЧКИ\r\n        setConfirmDeletePopupOpen(true);\r\n        setSelectedCardDelete(card);\r\n    }\r\n\r\n    function handleCardLike(card) {//---изменение лайка запрос\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n        api.changeLikeCardStatus(card._id, !isLiked)\r\n            .then((newCard) => {\r\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n            })\r\n            .catch((err) => console.log(`Что-то не то...: ${err}`));\r\n    }\r\n\r\n    function handleCardDelete() {//----удаление карточки запрос\r\n        api.deleteCard(selectedCardDelete._id)\r\n            .then(() => {\r\n                const newCards = cards.filter((c) => c._id !== selectedCardDelete._id);\r\n                setCards(newCards);\r\n                setSelectedCardDelete({});\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => console.log(`Что-то не то...: ${err}`));\r\n\r\n    }\r\n    //--------------------///\r\n    function handleAddPlaceSubmit(card) {//----размещение карточки на сервере\r\n        api.postCards(card)\r\n            .then((newCard) => {\r\n                setCards([newCard, ...cards]);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => console.log(`Что-то не то...: ${err}`));\r\n    }\r\n    function handleUpdateUser(data) {//---запрос на изменение инфы о пользователе\r\n        api.setUserInfo(data)\r\n            .then(() => {\r\n                setCurrentUser({ ...currentUser, ...data });\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => console.log(`Что-то не то...: ${err}`));\r\n    }\r\n\r\n    function handleUpdateAvatar(avatar, isLoading) {//---смена аватара запрос\r\n        api.updateAvatar(avatar)\r\n            .then(() => {\r\n                setCurrentUser({ ...currentUser, ...avatar });\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => console.log(`Упс!: ${err}`))\r\n\r\n    }\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <div className=\"page\">\r\n                <Header>\r\n                    <p className=\"header__email\">\r\n                        {props.email}\r\n                    </p>\r\n                    <button className=\"header__link header__link_exit\" onClick={props.onLogout}>\r\n                        Выйти\r\n                    </button>\r\n                </Header>\r\n\r\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n\r\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n\r\n                <PopupDeletePlace isOpen={isConfirmDeletePopupOpen} onClose={closeAllPopups} onDeleteCard={handleCardDelete} />\r\n\r\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n                <Main\r\n                    onEditAvatar={handleEditAvatarClick}\r\n                    onEditProfile={handleEditProfileClick}\r\n                    onAddPlace={handleAddPlaceClick}\r\n                    onCardClick={handleCardClick}\r\n                    cards={cards}\r\n                    onCardLike={handleCardLike}\r\n                    onCardDelete={handleConfirmDeleteClick}\r\n                />\r\n                <Footer />\r\n            </div>\r\n\r\n        </CurrentUserContext.Provider >\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {() =>\r\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst handleOriginalResponse = (response) => {\r\n    if (response.ok){\r\n        return (response.json());\r\n    } else {\r\n        console.log('Ошибка');\r\n        return Promise.reject(new Error(`${response.status}`));\r\n    }\r\n}\r\n\r\nexport const register = (password, email) => {\r\n    console.log(JSON.stringify({\"password\":password, \"email\":email}))\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\"password\":password, \"email\":email})\r\n    })\r\n        .then(handleOriginalResponse)\r\n};\r\n\r\nexport const logIn = (password, email) => {\r\n    console.log(JSON.stringify({\"password\":password, \"email\":email}))\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\"password\":password, \"email\":email})\r\n    })\r\n        .then(handleOriginalResponse)};\r\n\r\nexport const getToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(handleOriginalResponse)};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from './Header'\r\nfunction Login(props) {\r\n    const emailInput = React.useRef();\r\n    const passwordInput = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onEnter(passwordInput.current.value, emailInput.current.value)\r\n    };\r\n    return (\r\n        <>\r\n            <Header>\r\n                <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\r\n            </Header>\r\n            <main>\r\n                <div className=\"login\">\r\n                    <p className=\"login__welcome\">Вход</p>\r\n                    <form className=\"login__form\" onSubmit={handleSubmit}>\r\n                        <input ref={emailInput} className='login__input login__input_email' id=\"email\" required name=\"email\" type=\"text\" placeholder={'Email'} />\r\n                        <input ref={passwordInput} className='login__input login__input_password' id=\"password\" required name=\"password\" type=\"password\" placeholder={'Пароль'} />\r\n                        <div className=\"login__button\">\r\n                            <button type=\"submit\" className=\"login__link\">Войти</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Login;","import React from 'react';\r\nimport { withRouter,Link } from 'react-router-dom';\r\nimport Header from './Header'\r\nfunction Register(props) {\r\n    const email = React.useRef();\r\n    const password = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRegister(email.current.value,password.current.value)\r\n       //console.log(password.current.value)\r\n    };      \r\n    return (\r\n        <div>\r\n          <Header>\r\n          <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\r\n          </Header>\r\n            <main>\r\n                <div className=\"register\">\r\n                    <p className=\"register__title\">Регистрация</p>\r\n                    <form className=\"register__form\" onSubmit={handleSubmit}>\r\n\r\n                        <input ref={email} className='register__input' id=\"userEmail\" name=\"userEmail\" type=\"email\" placeholder={'Email'} required />\r\n\r\n                        <input ref={password} className='register__input' id=\"password\" name=\"password\" type=\"password\" placeholder={'Пароль'} required/>\r\n\r\n                        <div className=\"register__button-container\">\r\n                            <button type=\"submit\" className=\"register__link\">Зарегистрироваться</button>\r\n                            <p className='register__question'>Уже зарегистрированы?\r\n                                <Link to=\"/sign-in\" className='register__enter' >Войти</Link>\r\n                            </p>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","export default __webpack_public_path__ + \"static/media/Err.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/Ok.1b6082f8.svg\";","import err from '../images/Err.svg';\r\nimport ok from '../images/Ok.svg';\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__container popup__container_registr\">\r\n                <button onClick={props.onClose} type=\"button\" className=\"popup__close\"></button>\r\n                <div className=\"popup__card\">\r\n                    <img src={props.isOk ? ok : err} alt={props.isOk ? ok : err} className=\"popup__response\" />\r\n                    <p className=\"popup__response-text\">{props.isOk ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default InfoTooltip;","import React from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Home from './ProfilePage'\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport * as auth from '../utils/auth';\r\nimport Login from './Login'\r\nimport Register from './Register'\r\nimport InfoTooltip from './InfoTooltip'\r\nfunction App() {\r\n  const [email, setEmail] = React.useState('');\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [tooltip, setTooltip] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  function signOut() { //---выход\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  function tokenCheck() {        // проверим токен\r\n    if (localStorage.getItem('jwt')) {\r\n      const jwt = localStorage.getItem('jwt');\r\n      auth.getToken(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setEmail(res.data.email)\r\n            setLoggedIn(true);\r\n            history.push('/profile');\r\n          }\r\n        })\r\n        .catch(err => {console.log(`Что-то не то...: ${err}`)});\r\n    }\r\n  }\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, [loggedIn]);\r\n\r\n  function handleRegistration(password, email) {//----- регистрация \r\n    auth.register(password, email)\r\n      .then((data) => {\r\n        if (data) {\r\n          setTooltip(!tooltip)\r\n          history.push('/sign-in');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(`Что-то не то...: ${err}`)\r\n        setInfoTooltipOpen(true);\r\n    });\r\n  }\r\n\r\n\r\n  function handleEnterUser(password, email) { //----автризация \r\n    auth.logIn(password, email)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem('jwt', data.token);\r\n          setLoggedIn(true);\r\n          history.push('/profile');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(`Что-то не то...: ${err}`)\r\n      setInfoTooltipOpen(true)\r\n      });\r\n      \r\n  };\r\n  \r\n  function closeInfoPopup() { //---зкрытие попапа ошибка\r\n    setInfoTooltipOpen(false)\r\n  }\r\n  return (\r\n    <div className=\"page\">\r\n      <Switch>\r\n\r\n        <ProtectedRoute path='/profile'\r\n          loggedIn={loggedIn}\r\n          component={Home}\r\n          onLogout={signOut}\r\n          email={email}>\r\n        </ProtectedRoute>\r\n\r\n        <Route path=\"/sign-up\">         {/* ---регистрация*/}\r\n          <Register onRegister={handleRegistration} />\r\n        </Route>\r\n\r\n        <Route path=\"/sign-in\" >        {/*---авторизация*/}\r\n          <Login onEnter={handleEnterUser} />\r\n        </Route>\r\n\r\n        <Route exact path=\"/\">          {/* --перенаправлени пользователя*/}\r\n          {loggedIn ? <Redirect to=\"/profile\" /> : <Redirect to=\"/sign-in\" />}\r\n        </Route>\r\n      </Switch>\r\n\r\n      <InfoTooltip isOk={tooltip} isOpen={isInfoTooltipOpen} onClose={closeInfoPopup} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}